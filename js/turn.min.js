/* turn.js 4.1.0 | http://www.turnjs.com | Copyright (C) 2012 Emmanuel Garcia | Released under MIT License */
(function($){"use strict";$.isTouch=typeof(document.ontouchstart)!=="undefined";$.mouseEvents={down:$.isTouch?"touchstart":"mousedown",move:$.isTouch?"touchmove":"mousemove",up:$.isTouch?"touchend":"mouseup"};$.fn.turn=function(options){if(this.length>1){this.each(function(){$(this).turn(options)});return this}var that=this,data=this.data(),turning=false;options=$.extend({acceleration:true,gradients:true,autoCenter:false,duration:600,pages:0,page:1,when:{}},options);if(data && data.turn){return data.turn.setOptions(options)}var vendor='Webkit Moz O ms Khtml'.split(' '),len=vendor.length,style=document.createElement('div').style,prefix='';for(var i=0;i<len;i++){if(typeof style[vendor[i]+'Transform']!=="undefined"){prefix='-'+vendor[i].toLowerCase()+'-';break}}function has3d(){if('WebKitCSSMatrix' in window && 'm11' in new WebKitCSSMatrix()){return true}var el=document.createElement('p'),has3d=false,transforms={'webkitTransform':'-webkit-transform','OTransform':'-o-transform','msTransform':'-ms-transform','MozTransform':'-moz-transform','transform':'transform'};document.body.insertBefore(el,null);for(var t in transforms){if(el.style[t]!==undefined){el.style[t]="translate3d(1px,1px,1px)";has3d=window.getComputedStyle(el).getPropertyValue(transforms[t])}}document.body.removeChild(el);return(has3d!==undefined && has3d.length>0 && has3d!=="none")}var has3D=has3d();that.data({turn:{setOptions:function(opt){options=$.extend(options,opt);return that},addPage:function(element,pageNumber){var page=$(element);page.css({position:'absolute',width:'100%',height:'100%',top:0,left:0});that.append(page);return page},display:function(pageNumber){that.children().hide();that.children(':nth-child('+pageNumber+')').show();return that},next:function(){var nextPage=options.page+1;if(nextPage<=options.pages){options.page=nextPage;that.turn('display',nextPage)}return that},previous:function(){var prevPage=options.page-1;if(prevPage>=1){options.page=prevPage;that.turn('display',prevPage)}return that},page:function(number){if(number!==undefined){if(number>=1 && number<=options.pages){options.page=number;that.turn('display',number)}return that}else{return options.page}},pages:function(number){if(number!==undefined){options.pages=number;return that}else{return options.pages}},destroy:function(){that.unbind('.turn').removeData('turn');return that}}});return that.turn('display',options.page)};})(jQuery);
